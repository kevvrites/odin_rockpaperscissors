<!DOCTYPE html>

<html>
  <head>
    <title>Rock Paper Scissors</title>
    <meta charset="utf-8"/>
  </head>
  <body>
    <script>
      function capitalize(str) {
        str = str.toLowerCase();
        const mod = str.charAt(0).toUpperCase() + str.slice(1);
        return mod;
      }

      function computerPlay() {
        let selection = Math.floor(Math.random() * 3) + 1;
        switch (selection) {
          case 1:
            return "Rock";
            break;
          case 2:
            return "Paper";
            break;
          case 3:
            return "Scissors";
            break;
        };
      }
      function playRound(playerSelection, computerSelection) {
        const ps = capitalize(playerSelection);
        const cs = computerSelection
        if (ps == cs) {
          return "Tie!";
        }
        if (((ps == "Rock") && (cs == "Paper")) || ((ps == "Paper") && (cs == "Scissors")) || ((ps == "Scissors") && (cs == "Rock"))) {
          return `You Lose! ${cs} beats ${ps}`;
        } else {
          return `You Win! ${ps} beats ${cs}`;
        }
      }

      function game() {
        let round = 0
        let playerScore = 0
        let computerScore = 0
        
        while (round < 5) {
          const playerSelection = prompt("");
          const computerSelection = computerPlay();
          let result = playRound(playerSelection, computerSelection);
          if (result.slice(4, 5) == 'L') {
            computerScore += 1;
          }
          else if (result.slice(4, 5) == 'W') {
            playerScore += 1;
          }
          console.log(result);
          round += 1;
        }
        console.log(`Player Score: ${playerScore}`);
        console.log(`Computer Score: ${computerScore}`);
      }

      game()
    </script>
  </body>
</html>